# Agent to Agent：當 AI 開始彼此溝通，我們該想的不是「哇」而是「然後呢？」

最近 Google 宣布了一個新的通訊協議叫 Agent2Agent (A2A)，我對這件事的興趣不在於它的技術細節，而是它背後的意義。

## 為什麼「agent 能互相溝通」是件大事？

先講一個大家都熟悉的場景：假設你今天是一位 HR，你開了一個 JD 給你的 AI 助理，它幫你去 LinkedIn 撈了一批人，接著呢？你還是得打開日曆排面試、再發信請主管一起參與，背景調查？還是你自己去叫那個「背景調查機器人」來幫你跑。

這正是過去 AI agent 的問題：他們不能互相叫人來幫忙。

即使每個 agent 都訓得很好，它們依舊是孤島。除非我們人類在中間幫它們牽線，否則任務永遠沒辦法自己流動下去。

現在有了 A2A，這件事終於可以改變了。agent 不只能自動處理工作，還能找其他 agent 一起幫忙。就像人類會說「我不會修這台機器，但我可以請工程師過來」，agent 現在也能這樣做了。

這代表什麼？代表未來我們可以開始設計「由多個 agent 共同完成」的工作流，而且每個 agent 可以由不同團隊、不同 tech stack 打造，但只要遵守 A2A，就能合作無礙。

## 好的，我懂了 agent 能合作，那有什麼風險？

老實說，我覺得大家反而該更關注這一塊。

agent 彼此溝通，看起來很炫，實際上會打開潘朵拉的盒子，以下我幫你列幾個我目前認為一定要注意的坑：

### 1. 安全與權限：你確定這個 agent 能做這件事嗎？

A2A 讓 agent 可以把任務交給別人處理，但重點來了，你怎麼知道對面那個 agent 是不是假冒的？

- 如果某個 agent 假裝自己有「刪除資料」的權限，結果你傻傻地把刪除任務交給它，那就是災難。
- 資料如果在 agent 之間亂傳，沒設好 ACL（Access Control List），用戶資訊就這樣流出去了。

這也是[為什麼 Google 把 OAuth、OpenID、Mutual TLS 全部拉進來當成協議基礎，並要求每個 agent 的 AgentCard 都必須有簽名](https://github.com/google/A2A/issues/36)。你不該相信任何 agent 說「我會做這件事」，你得能驗證它的身分與能力。

### 2. 行為操控與 injection 攻擊

agent 接收的是任務，這代表如果有人能改變這些任務的格式、上下文、內容，那整個決策流程都可能被操控。

類似 prompt injection，只是這次是在 agent 溝通的資料層發生。如果沒有設好 task 的 lifecycle 控制，很容易變成「你以為你在做 A，其實是在被操控做 B」。

### 3. 還有一個被低估的問題：記憶怎麼辦？

agent 彼此協作很好，但問題來了：

- A agent 記得你在 JD 裡說希望找「熟 Python + startup 背景」的人
- B agent 負責排面試，但它根本不知道 A agent 當初為什麼挑這些人

這就涉及到 agent 的記憶系統要怎麼傳遞與管理。目前主流做法大致如下：

#### （1）短期記憶：直接把上下文丟進 prompt
- 優點：實作簡單
- 缺點：token 限制很快就炸掉

#### （2）向量記憶（Semantic Memory）
- 把過往任務紀錄轉成 embedding，存在向量資料庫，任務要執行時再從中撈出相關 context
- 缺點是 recall 不一定精準，還需要很細緻地挑選與清洗記憶片段

#### （3）Structured Task Memory
- 明確維護一個 JSON 狀態樹，每次任務更新都寫進去
- 適合流程可預期的商業任務，但可維護性是個挑戰

#### （4）外部知識庫 / tool log
- agent 每一步的輸出都存在檔案或資料庫中，之後要 replan 可以翻閱
- 缺點是 noise 太多，要搭配 good summarizer 才能發揮效果

現在的 A2A 規範只規定了 agent 間怎麼「講話」，但沒規定要怎麼「記憶」或「互相提醒記憶」，這塊我覺得是之後很值得社群一起補足的。

## 那我們作為開發者，可以做些什麼？

講到這邊，總得問一下：「所以這跟我有什麼關係？」

我覺得這件事的價值不是 A2A 本身，而是它讓我們可以開始思考：

- 要怎麼設計 由多個 agent 組成的自動化工作流
- 要怎麼切分 agent 的責任（像是一個 scheduling agent 不該做背景調查）
- 要怎麼讓記憶、上下文、信任等設計變成可插拔的模組
- 要怎麼在自己的系統裡，開放 agent API，讓別人可以透過 A2A 呼叫

如果你正在做的是 SaaS 工具、workflow builder、或是 RAG-based assistant，那 A2A 基本上可以讓你的系統升級成「開放型 agent」，甚至變成別人 agent 的一部分。

## 這其實不是「agent 更聰明了」，而是我們終於給了他們一支電話

以前的 agent 是自己一個人做事，今天能接 call、能找人、能組團，這才像真正的「自主 agent」。

但能力越大，問題也越多。協作、權限、記憶、責任歸屬，這些問題過去是我們人類處理的，現在我們得開始設計系統讓 agent 能自己解決它們。

也許 A2A 是那第一步。